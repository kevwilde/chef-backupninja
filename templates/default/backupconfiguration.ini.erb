#######################################################
#      This configuration file is managed by Chef.    #
#            Do not edit this file manually.          #
#######################################################
#
# Description:
#     <%= @description %>
#

#
# Generic options
#

<% if defined? @when_executed %>
when = <%= @when_executed %>
<% end %>

#
# Method-specific options
#
<% 
@options.each_pair do |key, value|

	# A repetition of the same key
	if value.class == Array 
		value.each do |item| 
%><%= 		"#{key} = #{item}" %>
<%
		end

	# A Section
	elsif value.class == Hash
%>

<%=   "[#{key}]" %>
<%		
		value.each_pair do |sub_key, sub_value|
			unless sub_value.nil?
				# (inside) A repetition of the same key
				if sub_value.class == Array 
					sub_value.each do |item| 
%><%=   				"#{sub_key} = #{item}" %>
<%		
					end

				# (inside) Just a normal key/value entry
				else
%><%=   			"#{sub_key} = #{sub_value}" %>
<%		
				end

			end
		end

	# Just a normal key/value entry
	else
		unless value.nil?
%><%= 		"#{key} = #{value}" %>
<%
		end
	end 
end
%>
